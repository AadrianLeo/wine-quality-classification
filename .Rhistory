## Step 1
â€” Collect the data (R script)
# install.packages("here")  # run once if needed
library(here)
library(here)
install.packages("here")  # run once if needed
i
install.packages("here")
library(here)
set.seed(123)
# Create data folder
dir.create(here("data"), showWarnings = FALSE)
# UCI Wine Quality (red wine) dataset URL
red_url <- "https://archive.ics.uci.edu/ml/machine-learning-databases/wine-quality/winequality-red.csv"
red_path <- here("data", "winequality-red.csv")
# Download only if not already present
if (!file.exists(red_path)) {
download.file(red_url, destfile = red_path, mode = "wb")
}
# Read dataset (UCI uses ';' separator)
wine <- read.csv2(red_path)
# install.packages("here")  # run once if needed
library(here)
# Path to the dataset
data_path <- here("data", "winequality-red.csv")
# Load the dataset (semicolon-separated)
wine <- read.csv2(data_path)
# Verify data loaded correctly
dim(wine)
str(wine)
head(wine)
# Verify data loaded correctly
dim(wine)
str(wine)
head(wine)
nrow(wine)
# Verify data loaded correctly
dim(wine)
str(wine)
head(wine)
nrow(wine)
ncol(wine)
# Verify data loaded correctly
dim(wine)
str(wine)
head(wine)
nrow(wine)
ncol(wine)
description(wine)
# Verify data loaded correctly
dim(wine)
str(wine)
head(wine)
nrow(wine)
ncol(wine)
describe(wine)
# Verify data loaded correctly
dim(wine)
str(wine)
head(wine)
nrow(wine)
ncol(wine)
summary(wine)
# Check missing values per column
colSums(is.na(wine))
# Distribution of original quality scores
table(wine$quality)
# Relative frequencies
prop.table(table(wine$quality))
hist(wine$quality,
main = "Distribution of Wine Quality Scores",
xlab = "Quality",
col = "lightblue",
breaks = 10)
hist(wine$quality,
main = "Distribution of Wine Quality Scores",
xlab = "Quality",
col = "lightblue",
breaks = 10)
boxplot(alcohol ~ quality,
data = wine,
main = "Alcohol Content vs Wine Quality",
xlab = "Quality",
ylab = "Alcohol")
str(wine$quality)
str(wine$quality)
wine$quality <- as.numeric(as.character(wine$quality))
str(wine$quality)
wine$quality <- as.numeric(as.character(wine$quality))
wine$alcohol <- as.numeric(wine$alcohol)
boxplot(alcohol ~ quality,
data = wine,
main = "Alcohol Content vs Wine Quality",
xlab = "Quality",
ylab = "Alcohol")
boxplot(alcohol ~ quality,
data = wine,
main = "Alcohol Content vs Wine Quality",
xlab = "Quality",
ylab = "Alcohol")
str(wine)
boxplot(alcohol ~ quality,
data = wine,
main = "Alcohol Content vs Wine Quality",
xlab = "Quality",
ylab = "Alcohol")
str(wine)
wine$quality_factor <- as.factor(wine$quality)
boxplot(alcohol ~ quality,
data = wine,
main = "Alcohol Content vs Wine Quality",
xlab = "Quality",
ylab = "Alcohol")
str(wine)
wine$quality_factor <- as.factor(wine$quality)
str(wine)
# 1. Create binary target variable
# Premium (1): quality >= 7
# Poor (0): quality <= 6
wine$quality_binary <- ifelse(wine$quality >= 7, 1, 0)
# Convert target to factor (classification task)
wine$quality_binary <- factor(wine$quality_binary,
levels = c(0, 1),
labels = c("Poor", "Premium"))
# 2. Check class distribution
table(wine$quality_binary)
prop.table(table(wine$quality_binary))
# 2. Check class distribution
table(wine$quality_binary)
prop.table(table(wine$quality_binary))
# 3. Remove original quality variable
wine_clean <- wine
wine_clean$quality <- NULL
# 4. Final structure check
str(wine_clean)
summary(wine_clean)
# Create data folder if it doesn't exist
dir.create(here("data"), showWarnings = FALSE)
# Save cleaned wine dataset
write.csv(wine_clean,
here("data", "winequality-red-clean.csv"),
row.names = FALSE)
# Check missing values per column
colSums(is.na(wine_clean))
# Number of duplicate rows
sum(duplicated(wine_clean))
str(wine_clean)
boxplot(wine_clean$alcohol,
main = "Boxplot of Alcohol (Outlier Check)",
ylab = "Alcohol")
# Before cleaning
dim(wine)
# After cleaning
dim(wine_clean)
# Summary before cleaning
summary(wine)
# Summary after cleaning
summary(wine_clean)
# Original quality distribution
table(wine$quality)
# Binary target distribution
table(wine_clean$quality_binary)
prop.table(table(wine_clean$quality_binary))
# View all duplicated rows (excluding first occurrence)
duplicate_rows <- wine_clean[duplicated(wine_clean), ]
# Check how many
nrow(duplicate_rows)
# View first few duplicates
head(duplicate_rows)
# View first few duplicates
head(duplicate_rows)
# Row indices of duplicated rows
which(duplicated(wine_clean))
